{
  "version": "1.0",
  "module": "StrategyTrees.FiveOnFive",
  "description": "High-level 5v5 strategy trees for Leafs Dynasty AI in NHL 25. Uses only in-game legal options for forecheck, neutral zone, defensive pressure/strategy, offensive strategy, and breakouts.",
  "notes": {
    "trap_slider_range": "0-6",
    "game_context_key": "state",
    "all_values_match_nhl25_menus": true
  },
  "states": {
    "default_even_game": {
      "situation": "5v5 · score tied or within 1 goal, early/mid game",
      "forecheck": "1-2-2_passive",
      "neutral_zone": "1-2-2_red",
      "trap_slider": 3,
      "defensive_pressure": "contain_puck",
      "defensive_strategy": "staggered",
      "offensive_strategy": "standard",
      "control_breakout": "strong_side_slant",
      "quick_breakout": "close_support"
    },
    "protecting_lead": {
      "situation": "5v5 · protecting a 1–2 goal lead in 3rd period",
      "forecheck": "1-2-2_passive",
      "neutral_zone": "1-3-1",
      "trap_slider": 5,
      "defensive_pressure": "protect_net",
      "defensive_strategy": "collapsing",
      "offensive_strategy": "defend_lead",
      "control_breakout": "strong_side_slant",
      "quick_breakout": "stay_wide"
    },
    "trailing_need_offense": {
      "situation": "5v5 · trailing by 1–2 goals, 3rd period or late 2nd",
      "forecheck": "1-2-2_aggressive",
      "neutral_zone": "1-2-2_blue",
      "trap_slider": 1,
      "defensive_pressure": "high_pressure",
      "defensive_strategy": "tight_point",
      "offensive_strategy": "full_attack",
      "control_breakout": "blue_to_blue",
      "quick_breakout": "leave_zone_early"
    },
    "lockdown_final_minutes": {
      "situation": "5v5 · up by 1 in final 3–5 minutes, DZ starts matter most",
      "forecheck": "1-2-2_passive",
      "neutral_zone": "1-4",
      "trap_slider": 6,
      "defensive_pressure": "protect_net",
      "defensive_strategy": "collapsing",
      "offensive_strategy": "defend_lead",
      "control_breakout": "strong_side_slant",
      "quick_breakout": "close_support"
    },
    "momentum_push_after_goal": {
      "situation": "5v5 · first shift after you score and want to press",
      "forecheck": "1-2-2_aggressive",
      "neutral_zone": "1-2-2_red",
      "trap_slider": 2,
      "defensive_pressure": "normal",
      "defensive_strategy": "staggered",
      "offensive_strategy": "aggressive",
      "control_breakout": "blue_to_blue",
      "quick_breakout": "leave_zone_early"
    }
  },
  "mapping_rules": {
    "default_rule": "default_even_game",
    "score_based": [
      {
        "condition": { "goal_diff": { "max": 1 }, "period": { "max": 2 } },
        "state": "default_even_game"
      },
      {
        "condition": { "goal_diff": { "min": 1 }, "period": { "min": 3 } },
        "state": "protecting_lead"
      },
      {
        "condition": { "goal_diff": { "max": -1 }, "period": { "min": 2 } },
        "state": "trailing_need_offense"
      }
    ],
    "time_based_overrides": [
      {
        "condition": { "goal_diff": { "min": 1 }, "time_remaining": { "max_minutes": 5 } },
        "state": "lockdown_final_minutes"
      }
    ],
    "momentum_events": [
      {
        "trigger": "just_scored",
        "state": "momentum_push_after_goal",
        "duration_shifts": 1
      }
    ]
  }
}