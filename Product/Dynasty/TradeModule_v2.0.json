{
  "module_name": "TradeModule",
  "module_version": "2.0",
  "team_code": "TOR",
  "philosophy": "Toronto_Realism_Aggressive_Creative",
  "description": "Aggressive-creative trade logic for the Toronto Maple Leafs, fully optimized to win during the Matthews/Nylander window without sacrificing critical future assets.",
  
  "windows": {
    "competitive_window": "2024-2030",
    "franchise_cornerstones": [
      "Auston Matthews",
      "William Nylander",
      "Mitch Marner",
      "Morgan Rielly"
    ],
    "untouchable_tier": [
      "Auston Matthews",
      "William Nylander"
    ],
    "near_untouchable_tier": [
      "Mitch Marner",
      "Matthew Knies",
      "Topi Niemelä"
    ],
    "strategic_keep_tier": [
      "Dawson Mercer",
      "Tyson Foerster",
      "Easton Cowan"
    ],
    "moveable_key_pieces": [
      "John Tavares (contextual)",
      "Alex Steeves",
      "Conor Timmins",
      "Nick Robertson",
      "Depth D",
      "Depth Forwards"
    ],
    "moveable_assets": [
      "2025 3rd",
      "2025 4th",
      "Non-core prospects"
    ]
  },

  "core_rules": {
    "never_move": {
      "picks": ["2025 1st", "2026 1st"],
      "notes": "Protect 1st-rounders unless acquiring true top-4 D or top-line winger under team control."
    },
    "max_player_retention": 2,
    "min_cap_buffer_for_trades_millions": 1.0,
    "deadline_mode_trigger_threshold": {
      "points_percentage_min": 0.565,
      "conference_rank_max": 7,
      "notes": "If below these thresholds, switch to 'soft-sell mode'."
    }
  },

  "trade_modes": {
    "buyer_mode": {
      "conditions": [
        "TOR in playoff spot",
        "Points% >= 0.585",
        "Injuries require reinforcement",
        "Opportunity to acquire undervalued player"
      ],
      "target_profiles": [
        "Top-4 defenseman with term",
        "Top-6 winger with control",
        "Elite defensive center depth",
        "Goaltender upgrade IF injuries"
      ],
      "allowed_asset_usage": [
        "mid-round picks",
        "non-core prospects",
        "roster tweeners"
      ],
      "restricted_assets": [
        "1st round picks",
        "Knies",
        "Mercer",
        "Foerster",
        "Cowan"
      ],
      "creative_tools": [
        "salary_retention_swap",
        "three_team_broker",
        "prospect_plus_cap_dump",
        "package_small_assets_for_medium_piece"
      ]
    },

    "aggressive_mode": {
      "conditions": [
        "TOR in top 3 of Atlantic",
        "Team health stable",
        "Clear upgrade available"
      ],
      "unlocked_assets": [
        "2026 2nd",
        "mid-level prospects",
        "expiring players"
      ],
      "high_value_targets": [
        "Top-pair RD",
        "Elite defensive 2C",
        "PP2 driver winger"
      ],
      "creative_patterns": [
        "elite_splash_trade",
        "sweetener_attached_dump",
        "retain_and_flip",
        "convert_depth_to_pick_and_use_pick_in_new_trade"
      ]
    },

    "soft_sell": {
      "conditions": [
        "Points% < 0.56",
        "Conference rank > 9",
        "Season trending downward"
      ],
      "actions": [
        "Sell expiring non-core players",
        "Move veterans for picks",
        "Open spots for prospects",
        "Protect core"
      ]
    },

    "neutral_mode": {
      "description": "Default state; small improvements only.",
      "preferred_trades": [
        "bottom-six upgrades",
        "depth defense",
        "prospect-for-prospect swaps",
        "low-cost rentals"
      ]
    }
  },

  "asset_valuation": {
    "tiers": {
      "S_tier": {
        "definition": "Franchise players; never traded.",
        "examples": ["Matthews", "Nylander"],
        "value_score": 100
      },
      "A_tier": {
        "definition": "High-end core; rarely moved.",
        "examples": ["Marner", "Knies", "Mercer", "Niemelä"],
        "value_score": 85
      },
      "B_tier": {
        "definition": "Strong support; moveable if upgrading.",
        "examples": ["Foerster", "Steeves", "McMann"],
        "value_score": 70
      },
      "C_tier": {
        "definition": "Good depth with trade value.",
        "examples": ["Robertson", "Dewar", "Gregor"],
        "value_score": 55
      },
      "D_tier": {
        "definition": "Low-value assets / fillers.",
        "examples": ["Depth AHL", "Late picks"],
        "value_score": 40
      }
    },

    "pick_values": {
      "1st_round": 95,
      "2nd_round": 75,
      "3rd_round": 55,
      "4th_round": 40,
      "5th_round": 34,
      "6th_round": 28,
      "7th_round": 20,
      "round_scaler_notes": "1sts heavily protected; 2nds used only in impactful trades."
    }
  },

  "target_profiles": {
    "top_4_defenseman": {
      "must_have": ["term >= 2", "top_pair_metrics", "transition ability"],
      "ideal_shoots": "RD",
      "price_ceiling": [
        "1st rounder not allowed",
        "2026 2nd allowed",
        "Mercer/Knies NEVER included"
      ]
    },
    "top_6_winger": {
      "must_have": ["offensive consistency", "drive play or finishing"],
      "price_ceiling": [
        "Prospect + mid pick",
        "2nd + roster player",
        "Never more than one A-tier prospect"
      ]
    },
    "elite_2C": {
      "description": "Rare acquisition type. Only pursue if perfect fit.",
      "price_notes": "Would require aggressive three-team structure."
    },
    "rental_utility": {
      "requirements": ["does not cost 1st or A-tier prospect"],
      "price": "3rd–4th or expiring player"
    }
  },

  "trade_structures": {
    "templates": {
      "two_way_smart_buy": {
        "description": "Acquire undervalued piece without touching top assets.",
        "ingredients": [
          "1x mid-round pick",
          "1x C-tier prospect",
          "1x roster tweener"
        ]
      },
      "three_team_salary_broker": {
        "description": "Use third team to retain salary and reduce cost.",
        "scenarios": ["expensive winger", "overpaid D", "cap-dump flip"]
      },
      "retain_and_flip": {
        "description": "Retain small % on outgoing player to maximize return."
      },
      "cap_dump_plus_sweetener": {
        "description": "Move bad money by attaching a D-tier prospect or late pick."
      }
    }
  },

  "deadline_logic": {
    "buyer_threshold": 0.58,
    "aggressive_deadline_threshold": 0.62,
    "sell_threshold": 0.55,
    "notes": [
      "Aggressive only if TOR top-3 in Atlantic.",
      "Soft sell if under 0.55 after Feb 20."
    ],
    "rental_logic": {
      "allowed": true,
      "conditions": [
        "No 1st round pick used",
        "No A-tier prospect used",
        "Rental must be clear upgrade"
      ]
    }
  },

  "player_protection": {
    "no_trade_list_internal": [
      "Matthews",
      "Nylander",
      "Marner",
      "Knies",
      "Mercer",
      "Cowan",
      "Niemelä"
    ],
    "do_not_sell_low": [
      "Robertson",
      "Steeves",
      "Foerster"
    ],
    "move_if_ask_exceeds": {
      "McCabe": "6M AAV equivalent",
      "Dumba": "4.5M AAV",
      "Pacioretty": "3.5M AAV",
      "Kampf": "3.5M AAV"
    }
  },

  "cap_engine": {
    "retention_rules": {
      "max_retain_per_contract_millions": 2.0,
      "max_retentions": 2,
      "notes": "Use retention to dump veteran contracts or to increase return on outgoing pieces."
    },
    "year_over_year_projection": true,
    "forecast_horizon_years": 3,
    "checks": [
      "future_extension_impacts",
      "term_risk_curve",
      "age_curve_warnings",
      "UFA_window_costs"
    ]
  },

  "evaluation_matrix": {
    "factors": {
      "player_value_score": 0.45,
      "contract_value_score": 0.25,
      "age_curve_score": 0.10,
      "roster_fit_score": 0.10,
      "future_cost_score": 0.10
    },
    "thresholds": {
      "green_light": 0.75,
      "yellow_light": 0.60,
      "red_light": 0.50
    },
    "notes": "Dynasty GPT will color-code proposed trades based on these composite scores."
  },

  "output_preferences": {
    "always_provide_three_paths": [
      "Conservative Path",
      "Hybrid Path",
      "Aggressive-Creative Path"
    ],
    "include_risk_analysis": true,
    "include_cap_projection": true,
    "include_walk_away_conditions": true,
    "require_value_explanation": true,
    "present_team_fit_notes": true,
    "never_hide_reasons": true
  }
}